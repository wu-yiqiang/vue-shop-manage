{"remainingRequest":"C:\\Users\\windows\\Project\\vue-shop-manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\windows\\Project\\vue-shop-manage\\src\\components\\goods\\Cate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\windows\\Project\\vue-shop-manage\\src\\components\\goods\\Cate.vue","mtime":1612194178620},{"path":"C:\\Users\\windows\\Project\\vue-shop-manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\vue-shop-manage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\windows\\Project\\vue-shop-manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\windows\\Project\\vue-shop-manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLy/llYblk4HliIbnsbvmlbDmja7liJfooagNCiAgICAgICAgICAgIGNhdGVsaXN0OltdLA0KICAgICAgICAgICAgLy/mgLvmlbDmja7mnaHmlbANCiAgICAgICAgICAgIHRvdGFsOjAsDQogICAgICAgICAgICAvL+WumuS5ieWIlw0KICAgICAgICAgICAgY29sdW1uczpbDQogICAgICAgICAgICAgICAge2xhYmVsOiLliIbnsbvlkI3np7AiLHByb3A6ImNhdF9uYW1lIn0sDQogICAgICAgICAgICAgICAge2xhYmVsOiLmmK/lkKbmnInmlYgiLHR5cGU6InRlbXBsYXRlIix0ZW1wbGF0ZToiaXNvayJ9LA0KICAgICAgICAgICAgICAgIHtsYWJlbDoi5o6S5bqPIix0eXBlOiJ0ZW1wbGF0ZSIsdGVtcGxhdGU6Im9yZGVyIn0sDQogICAgICAgICAgICAgICAge2xhYmVsOiLmk43kvZwiLHR5cGU6InRlbXBsYXRlIix0ZW1wbGF0ZToib3B0In0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgLy/mn6Xor6LmnaHku7YNCiAgICAgICAgICAgIHF1ZXJ5SW5mbzp7DQogICAgICAgICAgICAgICAgdHlwZTozLA0KICAgICAgICAgICAgICAgIHBhZ2VudW06MSwNCiAgICAgICAgICAgICAgICBwYWdlc2l6ZTo1LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8v5aKe5Yqg55So5oi35a+56K+d5qGGDQogICAgICAgICAgICBhZGRHb29kc0RpYWxvZ1Zpc2libGU6ZmFsc2UNCiAgICAgICAgICANCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpew0KICAgIA0KICAgICAgICB0aGlzLmdldENhdGVMaXN0KCkNCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBhc3luYyBnZXRDYXRlTGlzdCgpew0KICAgICAgICAgICAgLy/ojrflj5bllYblk4HliIbnsbvmlbDmja4NCiAgICAgICAgICAgIGNvbnN0IHtkYXRhOnJlc309YXdhaXQgdGhpcy4kaHR0cC5nZXQoImNhdGVnb3JpZXMiLHsNCiAgICAgICAgICAgICAgICBwYXJhbXM6dGhpcy5xdWVyeUluZm8NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgICBpZihyZXMubWV0YS5zdGF0dXMhPT0yMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXRhLm1zZykNCiAgICAgICAgICAgIHRoaXMuY2F0ZWxpc3Q9cmVzLmRhdGEucmVzdWx0DQogICAgICAgICAgICB0aGlzLnRvdGFsPXJlcy5kYXRhLnRvdGFsDQogICAgICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZShuZXdTaXplKXsNCiAgICAgICAgICAgIC8v55uR5ZCscGFnZVNpemXlgLzmlLnlj5gNCiAgICAgICAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplPW5ld1NpemUNCiAgICAgICAgICAgIHRoaXMuZ2V0Q2F0ZUxpc3QoKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2Upew0KICAgICAgICAgICAgLy/nm5HlkKxwYWdlTnVt5YC85pS55Y+YDQogICAgICAgICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtPW5ld1BhZ2UNCiAgICAgICAgICAgIHRoaXMuZ2V0Q2F0ZUxpc3QoKQ0KICAgICAgICB9LA0KICAgICAgICBhZGRHb29kc0luZm8oKXsNCiAgICAgICAgICAgIC8v5re75Yqg55So5oi3DQoNCiAgICAgICAgICAgIHRoaXMuYWRkR29vZHNEaWFsb2dWaXNpYmxlPXRydWUNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Cate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Cate.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\r\n    <div>\r\n        <!-- 面包屑导航 -->\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <!-- 卡片区域 -->\r\n        <el-card>\r\n            <el-row>\r\n                <el-col>\r\n                    <el-button type=\"primary\" @click=\"addGoodsInfo\">添加分类</el-button>\r\n                </el-col>\r\n            </el-row> \r\n\r\n            <!-- 表格 -->\r\n            <tree-table class=\"treetable\"  :data=\"catelist\" :columns=\"columns\" :selection-type=\"false\" :expand-type=\"false\"   show-index index-text=\"#\" border>\r\n                <!-- 是否有效 -->\r\n                <template slot=\"isok\" slot-scope=\"scope\">\r\n                        <i class=\"el-icon-success\" v-if=\"scope.row.cat_deleted===false\" style=\"color:lightgreen;\"></i>\r\n                        <i class=\"el-icon-error\" v-else style=\"color:red;\"></i>\r\n                </template>\r\n                <!-- 排序 -->\r\n                <template slot=\"order\" slot-scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.cat_level==0\">一级</el-tag>\r\n                    <el-tag type=\"success\" size=\"mini\" v-else-if=\"scope.row.cat_level==1\">二级</el-tag>\r\n                    <el-tag type=\"warning\" size=\"mini\" v-else>三级</el-tag>\r\n                </template>\r\n                <!-- 操作 -->\r\n                <template slot=\"opt\" slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit\">\r\n                        编辑\r\n                    </el-button>\r\n                    <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\">\r\n                        删除\r\n                    </el-button>\r\n                </template>\r\n                \r\n            </tree-table>\r\n\r\n            <!-- 分页区域 -->\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"queryInfo.pagenum\" :page-sizes=\"[3, 5, 10, 15]\" :page-size=\"queryInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n        <!-- 分类对话框 -->\r\n        <el-dialog title=\"添加商品\" :visible.sync=\"addGoodsDialogVisible\" width=\"30%\" :before-close=\"handleClose\">\r\n            <span>这是一段信息</span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            //商品分类数据列表\r\n            catelist:[],\r\n            //总数据条数\r\n            total:0,\r\n            //定义列\r\n            columns:[\r\n                {label:\"分类名称\",prop:\"cat_name\"},\r\n                {label:\"是否有效\",type:\"template\",template:\"isok\"},\r\n                {label:\"排序\",type:\"template\",template:\"order\"},\r\n                {label:\"操作\",type:\"template\",template:\"opt\"},\r\n            ],\r\n            //查询条件\r\n            queryInfo:{\r\n                type:3,\r\n                pagenum:1,\r\n                pagesize:5,\r\n            },\r\n            //增加用户对话框\r\n            addGoodsDialogVisible:false\r\n          \r\n        }\r\n    },\r\n    created(){\r\n    \r\n        this.getCateList()\r\n    },\r\n    methods:{\r\n        async getCateList(){\r\n            //获取商品分类数据\r\n            const {data:res}=await this.$http.get(\"categories\",{\r\n                params:this.queryInfo\r\n            })\r\n            console.log(res)\r\n            if(res.meta.status!==200) return this.$message.error(res.meta.msg)\r\n            this.catelist=res.data.result\r\n            this.total=res.data.total\r\n            \r\n        },\r\n        handleSizeChange(newSize){\r\n            //监听pageSize值改变\r\n            this.queryInfo.pagesize=newSize\r\n            this.getCateList()\r\n        },\r\n        handleCurrentChange(newPage){\r\n            //监听pageNum值改变\r\n            this.queryInfo.pagenum=newPage\r\n            this.getCateList()\r\n        },\r\n        addGoodsInfo(){\r\n            //添加用户\r\n\r\n            this.addGoodsDialogVisible=true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lanf=\"less\" scoped>\r\n.treetable{\r\n    margin-top:20px;\r\n}\r\n</style>"]}]}